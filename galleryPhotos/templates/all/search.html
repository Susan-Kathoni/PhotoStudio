{%extends 'all/base.html'%} 
{% block content %}
<div class="container">
  <div class="row">
    {% if images%}
      <h2>Found {{ images|length }} of searched term {{message}}</h2>
    {% else %}
      <h2> Found 0 articles for the search term {{message}}</h2>
    {% endif %}

  </div>

  <div class="row">

    {% for image in images %}
      <div class="col-sm-6 col-md-3">
        <img src="{{image.image.url}}" class="image-responsive w-100 img-thumbnail btn-outline-info" data-target="#{{image.id}}" alt="image">
      </div>

<!-- Trigger the modal with a button -->
<button type="button" class="btn btn-info btn-lg" data-toggle="modal" data-target="#myModal">Open Modal</button>

<!-- Modal -->
<div id="{{image.id}}" class="modal fade" role="dialog">
  <div class="modal-dialog" role="document">

    <!-- Modal content-->
    <div class="modal-content">
      <div class="modal-header">
        <!-- <button type="button" class="close" data-dismiss="modal">&times;</button> -->
        <h4 class="modal-title">{{image.title}}</h4>
      </div>
      <div class="modal-body">
        <p>About the image: {{image.imageDescription}}</p>
        <p>Category of the image:{{image.category}}</p>
        <p>Where the photo was taken:{{image.image_location}}</p>
        <p>The photo was uploaded on:{{image.date_uploaded}}</p>
      </div>
      <div class="modal-footer">

        <div class="col-xs-08">
            <input class="form-control input-md responsive" type="text"
                value="https://galleryPhotos.com/{{image.url}}" id="photosLink">
                <button type="button" class="btn btn-primary" onclick="copylink()" style="margin-right: 50%;">Copy Link</button>
                <button type="button" class="btn btn-danger" data-dismiss="modal" style="padding-left: 10%;text-align: center;">Close</button>
        </div>
    </div>
    </div>
    </div>

    <script>
        function copylink() {
          var copyText = document.getElementById("myInput");
          copyText.select();
          copyText.setSelectionRange(0, 99999);
          document.execCommand("copy");
          alert("Copied the link: " + copyText.value);
        }
    </script>


        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
      </div>
    </div>

  </div>
</div>

    {% endfor %}
  {% endif %}
  </div>
</div>
{% endblock %}